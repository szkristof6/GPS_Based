import*as API from"../api.js";import*as Cookie from"../cookie.js";const next="join.html",back="index.html",index="index.html";document.addEventListener("DOMContentLoaded",(()=>{Cookie.getCookie("Token")&&window.location.replace(next)})),window.addEventListener("load",(()=>{document.querySelector(".container").style.display="none"}));const form=document.querySelector("form"),backButton=document.querySelector("#back");backButton.addEventListener("click",(()=>window.location.replace(back))),form.addEventListener("submit",(async e=>{e.preventDefault();const t=new FormData(form),o={firstname:t.get("first"),lastname:t.get("last"),email:t.get("email"),password:t.get("password"),passwordre:t.get("passwordre"),date:new Date(t.get("date")),token:t.get("g-recaptcha-response")};if(o.password!==o.passwordre)console.log({message:"The passwords don't match!"});else{"success"===(await API.fetchPOST(o,"registerUser")).status?window.location.replace(index):console.error(game)}}));