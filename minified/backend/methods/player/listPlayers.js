const players=require("../../db/players"),users=require("../../db/users"),games=require("../../db/games"),teams=require("../../db/teams"),locations=require("../../db/locations");async function listPlayers(e,a){try{const i=await players.findOne({_id:e.query.player_id}),s=await players.find({game_id:i.game_id}),t=[];for(let e=0;e<s.length;e++){const a=s[e];if(a.player_id!==i.player_id){const e=await users.findOne({_id:a.user_id}),i=await teams.findOne({_id:a.team_id}),s=await locations.findOne({_id:a.location_id});t.push({user:{name:e.name,image:e.image},team:{color:i.color},location:s.location})}}a.send({status:"success",count:t.length,players:t})}catch(e){a.send(e)}}module.exports=listPlayers;